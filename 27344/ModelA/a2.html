<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Seat Booking</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
<style>
    body { font-family: Arial, sans-serif; }
    .container { width: 500px; margin: 50px auto; }
    .form-group { margin: 10px 0; }
    select, input, button { width: 100%; padding: 10px; }
    #daysSelect { display: none; }
    #proceedBtn { background-color: #4CAF50; color: white; border: none; cursor: pointer; }
    #proceedBtn:disabled { background-color: #cccccc; cursor: not-allowed; }
    #confirmation { margin-top: 20px; padding: 10px; background: #e9ffe9; border-left: 4px solid #4CAF50; display: none; }
</style>
</head>
<body>

<div class="container">
    <div class="form-group">
        <label>Booking For:</label>
        <select id="bookingFor">
            <option value="me">For Me</option>
            <option value="others">For Others</option>
        </select>
        <button id="displayEmployee" style="display:none;">Display Employee Name</button>
    </div>
    <div class="form-group">
        <label>Booking Type:</label>
        <input type="radio" id="hybrid" name="bookingType" value="hybrid" checked> <label for="hybrid">Hybrid</label>
        <input type="radio" id="hotdesk" name="bookingType" value="hotdesk"> <label for="hotdesk">Hot Desk</label>
    </div>
    <div class="form-group">
        <label>Select City:</label>
        <select id="city"></select>
    </div>
    <div class="form-group" id="campusGroup" style="display: none;">
        <label>Select Campus:</label>
        <select id="campus"></select>
    </div>
    <div class="form-group" id="buildingGroup" style="display: none;">
        <label>Select Building:</label>
        <select id="building"></select>
    </div>
    <div class="form-group" id="floorGroup" style="display: none;">
        <label>Select Floor:</label>
        <select id="floor"></select>
    </div>
    <div class="form-group">
        <label>Select Date Range:</label>
        <input type="text" id="dateRange" placeholder="Select dates">
    </div>
    <div class="form-group" id="daysSelect">
        <label>Select Days:</label>
        <div id="daysCheckbox"></div>
    </div>
    <button id="proceedBtn" disabled>Proceed to Book a Seat</button>
    <div id="confirmation"></div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script>
\$(document).ready(function() {
    const cities = ['Hyderabad', 'New York', 'New Jersey', 'Washington'];
    const campuses = {'Hyderabad': ['Tech Park'], 'New York': ['NY Tower'], 'New Jersey': ['NJ Center'], 'Washington': ['DC Hub']};
    const buildings = {'Tech Park': ['Building A'], 'NY Tower': ['Tower 1'], 'NJ Center': ['Center B'], 'DC Hub': ['Hub C']};
    const floors = {'Building A': ['1st', '2nd'], 'Tower 1': ['5th'], 'Center B': ['3rd', '4th'], 'Hub C': ['Ground']};

    // Populate cities
    cities.forEach(city => \$("#city").append(new Option(city, city)));

    \$("#city").on('change', function() {
        let city = \$(this).val();
        \$("#campus").empty().append(new Option('Select Campus', ''));
        \$("#building, #floor").empty().closest('.form-group').hide();
        if (city) {
            campuses[city].forEach(campus => \$("#campus").append(new Option(campus, campus)));
            \$("#campusGroup").show();
        } else {
            \$("#campusGroup").hide();
        }
    });

    \$("#campus").on('change', function() {
        let campus = \$(this).val();
        \$("#building").empty().append(new Option('Select Building', ''));
        if (campus) {
            buildings[campus].forEach(building => \$("#building").append(new Option(building, building)));
            \$("#buildingGroup").show();
        } else {
            \$("#buildingGroup").hide();
        }
    });

    \$("#building").on('change', function() {
        let building = \$(this).val();
        \$("#floor").empty().append(new Option('Select Floor', ''));
        if (building) {
            floors[building].forEach(floor => \$("#floor").append(new Option(floor, floor)));
            \$("#floorGroup").show();
        } else {
            \$("#floorGroup").hide();
        }
    });

    flatpickr("#dateRange", {
        mode: "range",
        minDate: "today",
        onChange: function(selectedDates, dateStr) {
            if(selectedDates.length == 2) {
                populateDays(selectedDates[0], selectedDates[1]);
            }
        }
    });

    function populateDays(start, end) {
        let days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
        let currentDate = new Date(start);
        \$('#daysCheckbox').empty();
        while(currentDate <= end) {
            let day = days[currentDate.getDay()];
            $ ('#daysCheckbox').append(`<input type="checkbox" id=" ${day}" value="$ {day}"><label for=" ${day}">\${day}</label>`);
            currentDate.setDate(currentDate.getDate() + 1);
        }
        \$('#daysSelect').show();
    }

    // Enable proceed button only if all fields are set
    \$('select, input').on('change input', function() {
        let isValid = \$("#bookingFor").val() && \$("input[name='bookingType']:checked").length && 
                      \$("#city").val() && \$("#campus").val() && \$("#building").val() && 
                      \$("#floor").val() && \$("#dateRange").val() && 
                      \$('input[type="checkbox"]:checked').length > 0;
        \$('#proceedBtn').prop('disabled', !isValid);
    });

    \$('#proceedBtn').on('click', function() {
        // Here you would typically send data to server, but for this example:
        let confirmationMessage = "Booking confirmed for " + \$("#bookingFor").val() + " at " + 
                                  \$("#building").val() + ", " + \$("#floor").val() + " from " + 
                                  \$("#dateRange").val() + " for selected days.";
        \$('#confirmation').html(confirmationMessage).append('<br><button onclick="bookNow()">Book Now</button>').show();
    });

    function bookNow() {
        // Logic to finalize booking, for now just an alert
        alert('Booking Processed! Here you would handle actual seat booking.');
    }

    <INLINE_MATH>('#bookingFor').on('change', function() {
        if (</INLINE_MATH>(this).val() === 'others') {
            \$('#displayEmployee').show();
        } else {
            \$('#displayEmployee').hide();
        }
    });
});
</script>

</body>
</html>