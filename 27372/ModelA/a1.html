<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Seat Booking System</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
<style>
body { font-family: 'Arial', sans-serif; margin: 0; padding: 20px; background: #f4f4f4; }
nav { background: #333; padding: 10px 20px; }
nav a { color: white; text-decoration: none; margin-right: 20px; }
.container { background: white; padding: 20px; margin-top: 20px; border-radius: 8px; }
.form-group { margin-bottom: 15px; }
label { display: block; margin-bottom: 5px; }
select, input[type="text"], input[type="date"] { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; }
button { background: #28a745; color: white; border: none; padding: 10px 15px; cursor: pointer; border-radius: 4px; }
button:disabled { background: #cccccc; cursor: not-allowed; }
#confirmation, #myBookings { margin-top: 20px; border-top: 1px solid #eee; padding-top: 20px; }
</style>
</head>
<body>

<nav>
    <a href="#" onclick="showPage('booking')">Booking Seat</a>
    <a href="#" onclick="showPage('myBookings')">My Booking</a>
</nav>

<div class="container" id="booking">
    <h2>Book a Seat</h2>
    <div class="form-group">
        <label for="bookingFor">Booking For:</label>
        <select id="bookingFor">
            <option value="me">For Me</option>
        </select>
    </div>
    <div class="form-group">
        <label>Booking Type:</label>
        <label><input type="radio" name="bookingType" value="hybrid"> Hybrid</label>
        <label><input type="radio" name="bookingType" value="hotDesk" checked> Hot Desk</label>
    </div>
    <div class="form-group">
        <label for="city">Select City:</label>
        <select id="city" onchange="updateCampus()">
            <option value="hyderabad">Hyderabad</option>
            <option value="newYork">New York</option>
            <option value="washington">Washington</option>
        </select>
    </div>
    <div class="form-group">
        <label for="campus">Select Campus:</label>
        <select id="campus">
            <!-- Options will be populated by JS -->
        </select>
    </div>
    <div class="form-group">
        <label for="floor">Select Floor:</label>
        <select id="floor">
            <!-- Options will be generic here but could be dynamic -->
            <option value="1">1</option>
            <!-- Add up to 20 or dynamically populate -->
        </select>
    </div>
    <div class="form-group">
        <label for="dateRange">Select Date Range:</label>
        <input type="text" id="dateRange" placeholder="Select date range">
    </div>
    <div class="form-group" id="daySelect">
        <!-- Days will be populated here -->
    </div>
    <button id="proceedBtn" disabled>Proceed to Book a Seat</button>
    <div id="confirmation" style="display:none;"></div>
</div>

<div class="container" id="myBookings" style="display:none;">
    <h2>My Bookings</h2>
    <!-- Bookings will be listed here -->
</div>

<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script>
document.addEventListener('DOMContentLoaded', (event) => {
    const cities = {
        'hyderabad': ['Campus A', 'Campus B'],
        'newYork': ['Downtown', 'Uptown'],
        'washington': ['Capitol Hill', 'Georgetown']
    };

    function updateCampus() {
        const city = document.getElementById('city').value;
        const campusSelect = document.getElementById('campus');
        campusSelect.innerHTML = cities[city].map(campus => `<option value="$ {campus}"> ${campus}</option>`).join('');
    }

    updateCampus();

    flatpickr("#dateRange", {
        mode: "range",
        dateFormat: "Y-m-d",
        onClose: function(selectedDates) {
            updateDays(selectedDates);
        }
    });

    function updateDays(dates) {
        const daySelect = document.getElementById('daySelect');
        daySelect.innerHTML = '';
        if (dates.length === 2) {
            let currentDate = new Date(dates[0]);
            while (currentDate <= dates[1]) {
                const dayName = currentDate.toLocaleDateString('en-US', {weekday: 'long'});
                daySelect.innerHTML += `<label><input type="checkbox" name="days" value="$ {currentDate.toISOString().split('T')[0]}"> ${dayName}</label>`;
                currentDate.setDate(currentDate.getDate() + 1);
            }
        }
        checkFormComplete();
    }

    function checkFormComplete() {
        const inputs = document.querySelectorAll('#booking select, #booking input[type="radio"]:checked, #daySelect input[type="checkbox"]:checked');
        const proceedBtn = document.getElementById('proceedBtn');
        proceedBtn.disabled = inputs.length < 6 || document.querySelector('#daySelect input[type="checkbox"]:checked') === null;
    }

    document.querySelectorAll('input, select').forEach(elem => elem.addEventListener('change', checkFormComplete));

    document.getElementById('proceedBtn').addEventListener('click', function() {
        if (!this.disabled) {
            const confirmation = document.getElementById('confirmation');
            confirmation.style.display = 'block';
            confirmation.innerHTML = 'Booking confirmed! Details: ...'; // Here would be actual booking details
            // Here you would typically send data to a server to finalize the booking
        }
    });

    function showPage(page) {
        document.getElementById('booking').style.display = page === 'booking' ? 'block' : 'none';
        document.getElementById('myBookings').style.display = page === 'myBookings' ? 'block' : 'none';
    }
});
</script>

</body>
</html>