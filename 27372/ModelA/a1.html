<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Color Palette Outfit Generator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css">
    <style>
        body { font-family: 'Arial', sans-serif; background: #f4f4f4; }
        .container { max-width: 800px; margin: 20px auto; padding: 20px; background: white; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
        .color-display { display: flex; justify-content: space-around; margin-bottom: 20px; }
        .color-box { width: 100px; height: 100px; border: 1px solid #ccc; }
        #generateButton { padding: 10px 20px; background-color: #5cb85c; color: white; border: none; cursor: pointer; }
        #generateButton:hover { background-color: #4cae4c; }
        .outfit-suggestion { margin-top: 20px; padding: 10px; border-top: 1px solid #eee; }
        .outfit-suggestion a { text-decoration: none; color: #007BFF; }
    </style>
</head>
<body>

<div class="container">
    <h2>Outfit Color Palette Generator</h2>
    <input type="color" id="baseColor" value="#ff0000">
    <button id="generateButton">Generate Palette</button>
    
    <div id="palette" class="color-display"></div>
    
    <div id="suggestions"></div>
</div>

<script>
    function generatePalette(baseColor) {
        const palette = [];
        palette.push(baseColor); // Base color

        // Complementary color
        let complementary = '#' + (0xFFFFFF ^ parseInt(baseColor.substring(1), 16)).toString(16).padStart(6, '0');
        palette.push(complementary);

        // Analogous colors
        for(let angle of [30, -30]) {
            let hsl = hexToHSL(baseColor);
            hsl.h = (hsl.h + angle + 360) % 360;
            palette.push(HSLToHex(hsl.h, hsl.s, hsl.l));
        }

        return palette;
    }

    function hexToHSL(hex) {
        // Convert hex to RGB first
        let r = parseInt(hex.slice(1, 3), 16) / 255;
        let g = parseInt(hex.slice(3, 5), 16) / 255;
        let b = parseInt(hex.slice(5, 7), 16) / 255;

        // Then to HSL
        let cmin = Math.min(r,g,b),
            cmax = Math.max(r,g,b),
            delta = cmax - cmin,
            h = 0, s = 0, l = (cmax + cmin) / 2;

        if (delta == 0) h = 0;
        else if (cmax == r) h = ((g - b) / delta) % 6;
        else if (cmax == g) h = (b - r) / delta + 2;
        else h = (r - g) / delta + 4;

        h = Math.round(h * 60);
        if (h < 0) h += 360;

        s = delta == 0 ? 0 : delta / (1 - Math.abs(2 * l - 1));
        s = +(s * 100).toFixed(1);
        l = +(l * 100).toFixed(1);

        return {h, s, l};
    }

    function HSLToHex(h,s,l) {
        s /= 100;
        l /= 100;

        let c = (1 - Math.abs(2 * l - 1)) * s,
            x = c * (1 - Math.abs((h / 60) % 2 - 1)),
            m = l - c/2,
            r = 0, g = 0, b = 0;

        if (0 <= h && h < 60) {
            r = c; g = x; b = 0;  
        } else if (60 <= h && h < 120) {
            r = x; g = c; b = 0;
        } else if (120 <= h && h < 180) {
            r = 0; g = c; b = x;
        } else if (180 <= h && h < 240) {
            r = 0; g = x; b = c;
        } else if (240 <= h && h < 300) {
            r = x; g = 0; b = c;
        } else if (300 <= h && h < 360) {
            r = c; g = 0; b = x;
        }
        r = Math.round((r + m) * 255).toString(16).padStart(2, '0');
        g = Math.round((g + m) * 255).toString(16).padStart(2, '0');
        b = Math.round((b + m) * 255).toString(16).padStart(2, '0');

        return '#' + r + g + b;
    }

    document.getElementById('generateButton').addEventListener('click', function() {
        const baseColor = document.getElementById('baseColor').value;
        const palette = generatePalette(baseColor);
        const paletteDiv = document.getElementById('palette');
        paletteDiv.innerHTML = '';
        
        palette.forEach(color => {
            const div = document.createElement('div');
            div.className = 'color-box';
            div.style.backgroundColor = color;
            paletteDiv.appendChild(div);
        });

        // Here you would call a function to generate outfit suggestions
        // For this example, I'll simulate some static suggestions
        generateOutfitSuggestions(palette);
    });

    function generateOutfitSuggestions(palette) {
        const suggestions = [
            "A nice shirt", "Matching shoes", "Accessory like a watch or bracelet", "Trousers or skirt"
        ];
        const suggestionDiv = document.getElementById('suggestions');
        suggestionDiv.innerHTML = '';
        palette.forEach((color, index) => {
            let suggestion = suggestions[index % suggestions.length];
            suggestionDiv.innerHTML += `<div class="outfit-suggestion">Try ${suggestion} in <span style="color:${color};">${color}</span>. <a href="#" target="_blank">Shop Now</a></div>`;
        });
    }
</script>

</body>
</html>