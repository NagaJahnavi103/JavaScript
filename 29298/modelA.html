<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Chrome Dinosaur Game</title>
<style>
body { 
    font-family: Arial, sans-serif; 
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
    background: #f0f0f0;
}
canvas { 
    border: 1px solid #000; 
    background: #fff;
}
#gameContainer {
    text-align: center;
}
#startScreen, #gameOverScreen {
    position: absolute;
    width: 800px;
    background: rgba(255, 255, 255, 0.9);
    padding: 20px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}
button {
    padding: 10px 20px;
    font-size: 1em;
    cursor: pointer;
}
</style>
</head>
<body>
<div id="gameContainer">
    <canvas id="gameCanvas" width="800" height="200"></canvas>
    <div id="startScreen">
        <h1>Chrome Dinosaur Game</h1>
        <p>Press SPACE to jump. Avoid the obstacles!</p>
        <button onclick="startGame()">Start Game</button>
    </div>
    <div id="gameOverScreen" style="display: none;">
        <h2>Game Over</h2>
        <p>Your Score: <span id="finalScore"></span></p>
        <button onclick="restartGame()">Try Again</button>
    </div>
    <div id="score">Score: <span id="scoreValue">0</span></div>
</div>

<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
const startScreen = document.getElementById('startScreen');
const gameOverScreen = document.getElementById('gameOverScreen');
const scoreDisplay = document.getElementById('scoreValue');
const finalScoreDisplay = document.getElementById('finalScore');

const dino = {x: 50, y: 150, width: 50, height: 50, dy: 0, jumpStrength: -10, gravity: 0.6};
let obstacles = [];
let score = 0;
let gameSpeed = 2;
let gameRunning = false;
let increaseSpeedInterval;

class Obstacle {
    constructor() {
        this.width = 30;
        this.height = Math.random() * 50 + 20;
        this.x = canvas.width;
        this.y = canvas.height - this.height;
    }

    update() {
        this.x -= gameSpeed;
    }

    draw() {
        ctx.fillStyle = 'red';
        ctx.fillRect(this.x, this.y, this.width, this.height);
    }
}

function startGame() {
    startScreen.style.display = 'none';
    gameRunning = true;
    score = 0;
    gameSpeed = 2;
    obstacles = [];
    increaseSpeedInterval = setInterval(() => gameSpeed += 0.3, 3000);
    window.requestAnimationFrame(gameLoop);
}

function restartGame() {
    gameOverScreen.style.display = 'none';
    startGame();
}

function gameLoop() {
    if (!gameRunning) return;

    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // Update dinosaur
    dino.dy += dino.gravity;
    dino.y += dino.dy;
    if (dino.y > 150) {
        dino.y = 150;
        dino.dy = 0;
    }

    // Draw dinosaur
    ctx.fillStyle = 'green';
    ctx.fillRect(dino.x, dino.y, dino.width, dino.height);

    // Obstacle management
    if (Math.random() < 0.02) {
        obstacles.push(new Obstacle());
    }

    obstacles.forEach((obstacle, index, object) => {
        obstacle.update();
        obstacle.draw();

        // Collision detection
        if (dino.x < obstacle.x + obstacle.width &&
            dino.x + dino.width > obstacle.x &&
            dino.y < obstacle.y + obstacle.height &&
            dino.y + dino.height > obstacle.y) {
            gameOver();
        }

        // Remove obstacle if off-screen
        if (obstacle.x + obstacle.width < 0) {
            object.splice(index, 1);
            score++;
            scoreDisplay.textContent = score;
        }
    });

    window.requestAnimationFrame(gameLoop);
}

function gameOver() {
    gameRunning = false;
    clearInterval(increaseSpeedInterval);
    finalScoreDisplay.textContent = score;
    gameOverScreen.style.display = 'block';
}

document.addEventListener('keydown', function(event) {
    if (event.code === 'Space' && dino.y >= 150) {
        dino.dy = dino.jumpStrength;
    }
});

// Initially hide the game over screen
gameOverScreen.style.display = 'none';
</script>
</body>
</html>